<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личный кабинет - Ala-Too Mobile</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="admin-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="admin-page">
    <!-- Боковая панель -->
    <div class="admin-sidebar">
        <div class="seller-info">
            <img id="sellerLogo" src="/sellers/default.jpg" alt="Логотип">
            <h3 id="sellerName">Загрузка...</h3>
            <p id="sellerEmail"></p>
        </div>
        
        <nav class="admin-nav">
            <a href="seller-dashboard.html" class="nav-item active">
                <i class="fas fa-tachometer-alt"></i> Панель управления
            </a>
            <a href="seller-products.html" class="nav-item">
                <i class="fas fa-box"></i> Мои товары
            </a>
            <a href="seller-orders.html" class="nav-item">
                <i class="fas fa-shopping-cart"></i> Заказы
            </a>
            <a href="#" class="nav-item" onclick="showShopSettings()">
                <i class="fas fa-store"></i> Мой магазин
            </a>
            <a href="#" class="nav-item" onclick="showSettings()">
                <i class="fas fa-cog"></i> Настройки
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <button class="btn btn-primary btn-block" onclick="window.open('index.html?seller=' + currentSeller.id, '_blank')">
                <i class="fas fa-external-link-alt"></i> Мой магазин
            </button>
            <button class="btn btn-danger btn-block" onclick="sellerLogout()">
                <i class="fas fa-sign-out-alt"></i> Выйти
            </button>
        </div>
    </div>
    
    <!-- Основной контент -->
    <div class="admin-content">
        <div class="admin-header">
            <h1>Панель управления</h1>
            <div class="header-actions">
                <span id="currentDate"></span>
                <button class="btn btn-primary" onclick="refreshDashboard()">
                    <i class="fas fa-sync-alt"></i> Обновить
                </button>
            </div>
        </div>
        
        <!-- Уведомления -->
        <div id="notifications" class="notifications-container"></div>
        
        <!-- Статистика -->
        <div class="dashboard-stats">
            <div class="stat-card">
                <div class="stat-icon bg-primary">
                    <i class="fas fa-box"></i>
                </div>
                <div class="stat-content">
                    <h3 id="productCount">0</h3>
                    <p>Товаров</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon bg-success">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="stat-content">
                    <h3 id="orderCount">0</h3>
                    <p>Заказов</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon bg-warning">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="stat-content">
                    <h3 id="viewCount">0</h3>
                    <p>Просмотров</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon bg-danger">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-content">
                    <h3 id="revenueCount">0 сом</h3>
                    <p>Доход</p>
                </div>
            </div>
        </div>
        
        <!-- Быстрые действия -->
        <div class="quick-actions">
            <h2>Быстрые действия</h2>
            <div class="actions-grid">
                <button class="action-btn" onclick="window.location.href='seller-products.html?action=add'">
                    <i class="fas fa-plus"></i>
                    <span>Добавить товар</span>
                </button>
                
                <button class="action-btn" onclick="window.location.href='seller-products.html'">
                    <i class="fas fa-edit"></i>
                    <span>Редактировать товары</span>
                </button>
                
                <button class="action-btn" onclick="window.location.href='seller-orders.html'">
                    <i class="fas fa-clipboard-list"></i>
                    <span>Просмотреть заказы</span>
                </button>
                
                <button class="action-btn" onclick="showShopSettings()">
                    <i class="fas fa-paint-brush"></i>
                    <span>Оформить магазин</span>
                </button>
            </div>
        </div>
        
        <div class="dashboard-content">
            <!-- Последние заказы -->
            <div class="recent-orders">
                <div class="section-header">
                    <h2>Последние заказы</h2>
                    <a href="seller-orders.html" class="btn btn-link">Все заказы →</a>
                </div>
                <div class="orders-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Номер</th>
                                <th>Товар</th>
                                <th>Клиент</th>
                                <th>Сумма</th>
                                <th>Статус</th>
                                <th>Действия</th>
                            </tr>
                        </thead>
                        <tbody id="recentOrdersTable">
                            <!-- Данные загружаются через JS -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Популярные товары -->
            <div class="popular-products">
                <div class="section-header">
                    <h2>Популярные товары</h2>
                    <a href="seller-products.html" class="btn btn-link">Все товары →</a>
                </div>
                <div class="products-list" id="popularProducts">
                    <!-- Данные загружаются через JS -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно настроек магазина -->
    <div id="shopSettingsModal" class="modal">
        <div class="modal-content">
            <h2>Настройки магазина</h2>
            
            <div class="form-group">
                <label>Название магазина</label>
                <input type="text" id="shopName" placeholder="Название магазина">
            </div>
            
            <div class="form-group">
                <label>Описание магазина</label>
                <textarea id="shopDescription" rows="3" placeholder="Опишите ваш магазин"></textarea>
            </div>
            
            <div class="form-group">
                <label>Логотип (URL)</label>
                <input type="text" id="shopLogo" placeholder="https://example.com/logo.jpg">
            </div>
            
            <div class="form-group">
                <label>Телефон для связи</label>
                <input type="tel" id="shopPhone" placeholder="+996 XXX XXX XXX">
            </div>
            
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="shopEmail" placeholder="email@example.com">
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-outline" onclick="closeModal('shopSettingsModal')">Отмена</button>
                <button class="btn btn-primary" onclick="saveShopSettings()">Сохранить</button>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно настроек -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <h2>Настройки аккаунта</h2>
            
            <div class="form-group">
                <label>Сменить пароль</label>
                <input type="password" id="newPassword" placeholder="Новый пароль">
            </div>
            
            <div class="form-group">
                <label>Повторите пароль</label>
                <input type="password" id="confirmPassword" placeholder="Повторите пароль">
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-outline" onclick="closeModal('settingsModal')">Отмена</button>
                <button class="btn btn-primary" onclick="changePassword()">Сменить пароль</button>
            </div>
        </div>
    </div>

    <script src="seller-data.js"></script>
    <script src="admin.js"></script>
</body>
</html>